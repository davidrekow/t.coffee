(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(e,n){var r=this;return n==null&&(n=!0),this.render=t(this.render,this),this.blockregex=/\{\{\s*?(([@!]?)(.+?))\s*?\}\}(([\s\S]+?)(\{\{\s*?:\1\s*?\}\}([\s\S]+?))?)\{\{\s*?\/(?:\1|\s*?\3\s*?)\s*?\}\}/g,this.valregex=/\{\{\s*?([=%])\s*?(.+?)\s*?\}\}/g,this.scrub=function(e){return(new Option(e)).innerHTML.replace(/["']/g,"&quot;")},this.get_value=function(e,t){var n;n=t.split(".");while(n.length){if(!(n[0]in e))return!1;e=e[n.shift()]}return typeof e=="function"?e():e},this.t=e,this.pass=n,this}return e.prototype.render=function(e,t){var n=this;return t==null&&(t=e,e=this.t),e.replace(this.blockregex,function(e,r,i,s,o,u,a,f){var l,c,h,p,d,v,m,g,y,b;d=n.get_value(t,s),p="";if(!d)return i==="!"?n.render(o,t):a?n.render(f,t):"";if(!i)return n.render(a?u:o,t);if(i==="@")if(n.pass)if(Array.isArray(d))for(v=0,g=d.length;v<g;v++)c=d[v],p+=n.render(o,c);else{b={};for(h in d)d.hasOwnProperty(h)&&(b[h]=d[h]);p+=n.render(o,b)}else{for(m=0,y=d.length;m<y;m++)l=d[m],t._key=l,t._val=d[l],d.hasOwnProperty(l)&&(p+=render(o,t));delete t._key,delete t._val}return p}).replace(this.valregex,function(e,r,i){var s;return s=n.get_value(t,i),s!=null?r==="%"?n.scrub(s):s:""})},e}(),window.t=e}).call(this)