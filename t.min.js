(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function r(e){this.render=t(this.render,this);var n=this;return this.scrub=function(e){return(new Option(e)).innerHTML.replace(/["']/g,"&quot;")},this.get_value=function(e,t){var n;n=t.split(".");while(n.length){if(!(n[0]in e))return!1;e=e[n.shift()]}return typeof e=="function"?e():e},this.t=e,this}var e,n;return e=/\{\{\s*?(([@!>]?)(.+?))\s*?\}\}(([\s\S]+?)(\{\{\s*?:\1\s*?\}\}([\s\S]+?))?)\{\{\s*?\/(?:\1|\s*?\3\s*?)\s*?\}\}/g,n=/\{\{\s*?([=%])\s*?(.+?)\s*?\}\}/g,r.prototype.render=function(t,r){var i=this;return r==null&&(r=t,t=this.t),t.replace(e,function(e,t,n,s,o,u,a,f){var l,c,h,p,d,v,m;d=i.get_value(r,s),h="";if(!d)return n==="!"?i.render(o,r):a?i.render(f,r):"";if(!n)return i.render(a?u:o,r);if(n==="@")for(c in d)p=d[c],d.hasOwnProperty(c)&&(h+=i.render(o,{_key:c,_val:p}));if(n===">")if(Array.isArray(d))for(v=0,m=d.length;v<m;v++)l=d[v],h+=i.render(o,l);else h+=i.render(o,d);return h}).replace(n,function(e,t,n){var s;return s=i.get_value(r,n),s!=null?t==="%"?i.scrub(s):s:""})},r}(),window.t=e}).call(this)
