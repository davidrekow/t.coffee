(function(){var e;e=function(){function n(e){var t=this;return this.t=e,this.render=function(){return n.prototype.render.apply(t,arguments)},this}var e,t;return e=/\{\{\s*?(([@!>]?)(.+?))\s*?\}\}(([\s\S]+?)(\{\{\s*?:\1\s*?\}\}([\s\S]+?))?)\{\{\s*?\/(?:\1|\s*?\3\s*?)\s*?\}\}/g,t=/\{\{\s*?([<&=%\+])\s*?(.+?)\s*?\}\}/g,n.prototype={scrub:function(e){return(new Option(e)).innerHTML.replace(/["']/g,"&quot;")},get_value:function(e,t){var n;n=t.split(".");while(n.length){if(!(n[0]in e))return!1;e=e[n.shift()]}return typeof e=="function"?e():e},render:function(n,r){var i=this;return r==null&&(r=n,n=this.t),r.temp=r.temp?r.temp.length>10?r.temp.slice(this.temp.length-10):r.temp:[],n.replace(e,function(e,t,n,s,o,u,a,f){var l,c,h,p,d,v,m;d=i.get_value(r,s),h="";if(!d)return n==="!"?i.render(o,r):a?i.render(f,r):"";if(!n)return i.render(a?u:o,r);if(n==="@")for(c in d)p=d[c],d.hasOwnProperty(c)&&(h+=i.render(o,{_key:c,_val:p,temp:r.temp}));if(n===">")if(Array.isArray(d)||d.constructor.name==="ListField")for(v=0,m=d.length;v<m;v++)l=d[v],h+=i.render(o,l);else h+=i.render(o,d);return h}).replace(t,function(e,t,n){var s;return s=t==="&"?r.temp[parseInt(n)-1]:t==="+"?window[n].render(r):i.get_value(r,n),t==="<"&&r.temp.push(s),s!=null?t==="%"?i.scrub(s):s:""})}},n}(),window.t=e}).call(this)
